{"ast":null,"code":"import _objectSpread from\"E:/Subhadra_Handlooms/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useParams,Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SareeDetail(){var _saree$gallery;const{id}=useParams();const[saree,setSaree]=useState(null);const[mainImage,setMainImage]=useState(\"\");useEffect(()=>{const BASE_URL=process.env.REACT_APP_API_BASE_URL;fetch(\"\".concat(BASE_URL,\"/sarees/\").concat(id,\"/\")).then(res=>res.json()).then(data=>{setSaree(data);setMainImage(data.image);// Default main image\n}).catch(err=>console.error(\"Error fetching saree:\",err));},[id]);const addToCart=()=>{const cart=JSON.parse(localStorage.getItem(\"cart\")||\"[]\");const existing=cart.find(item=>item.id===saree.id);let updatedCart;if(existing){updatedCart=cart.map(item=>item.id===saree.id?_objectSpread(_objectSpread({},item),{},{qty:item.qty+1}):item);}else{updatedCart=[...cart,_objectSpread(_objectSpread({},saree),{},{qty:1})];}localStorage.setItem(\"cart\",JSON.stringify(updatedCart));window.dispatchEvent(new Event(\"storage\"));alert(\"\".concat(saree.name,\" added to cart!\"));};if(!saree)return/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",marginTop:\"40px\"},children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto p-6\",style:{fontFamily:\"'Poppins', sans-serif\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(\"img\",{src:mainImage,alt:saree.name,className:\"rounded-lg shadow-md\",style:{width:\"100%\",maxHeight:\"480px\",objectFit:\"cover\",transition:\"transform 0.3s\",cursor:\"zoom-in\"},onMouseOver:e=>e.target.style.transform=\"scale(1.45)\",onMouseOut:e=>e.target.style.transform=\"scale(1)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",marginTop:\"12px\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"img\",{src:saree.image,alt:\"Main Thumb\",onClick:()=>setMainImage(saree.image),style:thumbStyle(mainImage===saree.image)}),(_saree$gallery=saree.gallery)===null||_saree$gallery===void 0?void 0:_saree$gallery.map((imgObj,index)=>/*#__PURE__*/_jsx(\"img\",{src:imgObj.image,alt:\"Thumbnail \".concat(index),onClick:()=>setMainImage(imgObj.image),style:thumbStyle(mainImage===imgObj.image)},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:\"2rem\",fontWeight:\"700\",color:\"#d35400\"},children:saree.name}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"12px\",color:\"#555\",lineHeight:\"1.6\"},children:saree.description||\"Handloom saree crafted with perfection.\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:\"18px\",fontSize:\"1.4rem\",color:\"#d35400\",fontWeight:\"600\"},children:[\"\\u20B9\",saree.price]}),/*#__PURE__*/_jsx(\"button\",{onClick:addToCart,style:{marginTop:\"1.5rem\",backgroundColor:\"#d35400\",color:\"#fff\",padding:\"0.8rem 1.6rem\",border:\"none\",borderRadius:\"8px\",cursor:\"pointer\",fontWeight:\"600\"},children:\"Add to Cart \\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"1.5rem\"},children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:\"#d35400\",textDecoration:\"none\",fontWeight:\"500\"},children:\"\\u2190 Back to Sarees\"})})]})]})});}const thumbStyle=isActive=>({width:\"75px\",height:\"75px\",objectFit:\"cover\",borderRadius:\"6px\",cursor:\"pointer\",border:isActive?\"3px solid #d35400\":\"1px solid #ccc\",transition:\"0.25s\"});export default SareeDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","jsx","_jsx","jsxs","_jsxs","SareeDetail","_saree$gallery","id","saree","setSaree","mainImage","setMainImage","BASE_URL","process","env","REACT_APP_API_BASE_URL","fetch","concat","then","res","json","data","image","catch","err","console","error","addToCart","cart","JSON","parse","localStorage","getItem","existing","find","item","updatedCart","map","_objectSpread","qty","setItem","stringify","window","dispatchEvent","Event","alert","name","style","textAlign","marginTop","children","className","fontFamily","position","overflow","src","alt","width","maxHeight","objectFit","transition","cursor","onMouseOver","e","target","transform","onMouseOut","display","gap","flexWrap","onClick","thumbStyle","gallery","imgObj","index","fontSize","fontWeight","color","lineHeight","description","price","backgroundColor","padding","border","borderRadius","to","textDecoration","isActive","height"],"sources":["E:/Subhadra_Handlooms/frontend/src/components/SareeDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\n\r\nfunction SareeDetail() {\r\n  const { id } = useParams();\r\n  const [saree, setSaree] = useState(null);\r\n  const [mainImage, setMainImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n    fetch(`${BASE_URL}/sarees/${id}/`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setSaree(data);\r\n        setMainImage(data.image); // Default main image\r\n      })\r\n      .catch((err) => console.error(\"Error fetching saree:\", err));\r\n  }, [id]);\r\n\r\n  const addToCart = () => {\r\n    const cart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\r\n    const existing = cart.find((item) => item.id === saree.id);\r\n\r\n    let updatedCart;\r\n    if (existing) {\r\n      updatedCart = cart.map((item) =>\r\n        item.id === saree.id ? { ...item, qty: item.qty + 1 } : item\r\n      );\r\n    } else {\r\n      updatedCart = [...cart, { ...saree, qty: 1 }];\r\n    }\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n    window.dispatchEvent(new Event(\"storage\"));\r\n    alert(`${saree.name} added to cart!`);\r\n  };\r\n\r\n  if (!saree) return <p style={{ textAlign: \"center\", marginTop: \"40px\" }}>Loading...</p>;\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6\" style={{ fontFamily: \"'Poppins', sans-serif\" }}>\r\n      <div className=\"grid md:grid-cols-2 gap-8\">\r\n\r\n        {/* Main Image with Zoom */}\r\n        <div style={{ position: \"relative\", overflow: \"hidden\" }}>\r\n          <img\r\n            src={mainImage}\r\n            alt={saree.name}\r\n            className=\"rounded-lg shadow-md\"\r\n            style={{\r\n              width: \"100%\",\r\n              maxHeight: \"480px\",\r\n              objectFit: \"cover\",\r\n              transition: \"transform 0.3s\",\r\n              cursor: \"zoom-in\",\r\n            }}\r\n            onMouseOver={(e) => (e.target.style.transform = \"scale(1.45)\")}\r\n            onMouseOut={(e) => (e.target.style.transform = \"scale(1)\")}\r\n          />\r\n\r\n          {/* Thumbnail Gallery */}\r\n          <div style={{ display: \"flex\", gap: \"10px\", marginTop: \"12px\", flexWrap: \"wrap\" }}>\r\n            {/* Main Image Thumb */}\r\n            <img\r\n              src={saree.image}\r\n              alt=\"Main Thumb\"\r\n              onClick={() => setMainImage(saree.image)}\r\n              style={thumbStyle(mainImage === saree.image)}\r\n            />\r\n\r\n            {/* Extra Images */}\r\n            {saree.gallery?.map((imgObj, index) => (\r\n              <img\r\n                key={index}\r\n                src={imgObj.image}\r\n                alt={`Thumbnail ${index}`}\r\n                onClick={() => setMainImage(imgObj.image)}\r\n                style={thumbStyle(mainImage === imgObj.image)}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Details */}\r\n        <div>\r\n          <h2 style={{ fontSize: \"2rem\", fontWeight: \"700\", color: \"#d35400\" }}>\r\n            {saree.name}\r\n          </h2>\r\n\r\n          <p style={{ marginTop: \"12px\", color: \"#555\", lineHeight: \"1.6\" }}>\r\n            {saree.description || \"Handloom saree crafted with perfection.\"}\r\n          </p>\r\n\r\n          <p style={{ marginTop: \"18px\", fontSize: \"1.4rem\", color: \"#d35400\", fontWeight: \"600\" }}>\r\n            ‚Çπ{saree.price}\r\n          </p>\r\n\r\n          <button\r\n            onClick={addToCart}\r\n            style={{\r\n              marginTop: \"1.5rem\",\r\n              backgroundColor: \"#d35400\",\r\n              color: \"#fff\",\r\n              padding: \"0.8rem 1.6rem\",\r\n              border: \"none\",\r\n              borderRadius: \"8px\",\r\n              cursor: \"pointer\",\r\n              fontWeight: \"600\",\r\n            }}\r\n          >\r\n            Add to Cart üõí\r\n          </button>\r\n\r\n          <div style={{ marginTop: \"1.5rem\" }}>\r\n            <Link to=\"/\" style={{ color: \"#d35400\", textDecoration: \"none\", fontWeight: \"500\" }}>\r\n              ‚Üê Back to Sarees\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst thumbStyle = (isActive) => ({\r\n  width: \"75px\",\r\n  height: \"75px\",\r\n  objectFit: \"cover\",\r\n  borderRadius: \"6px\",\r\n  cursor: \"pointer\",\r\n  border: isActive ? \"3px solid #d35400\" : \"1px solid #ccc\",\r\n  transition: \"0.25s\",\r\n});\r\n\r\nexport default SareeDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}