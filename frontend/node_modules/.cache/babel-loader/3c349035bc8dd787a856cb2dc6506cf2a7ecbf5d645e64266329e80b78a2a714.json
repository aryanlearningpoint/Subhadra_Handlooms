{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const[username,setUsername]=useState(null);const navigate=useNavigate();useEffect(()=>{const updateUser=()=>{const token=localStorage.getItem(\"access_token\");const storedUser=localStorage.getItem(\"username\");setUsername(token&&storedUser?storedUser:null);};updateUser();window.addEventListener(\"storage\",updateUser);return()=>window.removeEventListener(\"storage\",updateUser);},[]);const handleLogout=()=>{localStorage.clear();setUsername(null);navigate(\"/auth\");};const isLoggedIn=!!username;return/*#__PURE__*/_jsxs(\"header\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.logoContainer,children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:styles.logoText,children:\"Subhadra Handlooms\"})}),/*#__PURE__*/_jsxs(\"nav\",{style:styles.navLinks,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:styles.navLink,children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",style:styles.navLink,children:\"\\uD83D\\uDECD\\uFE0F Cart\"}),isLoggedIn&&/*#__PURE__*/_jsx(Link,{to:\"/profile\",style:styles.navLink,children:\"My Profile\"}),!isLoggedIn?/*#__PURE__*/_jsx(Link,{to:\"/auth\",style:styles.navLink,children:\"\\uD83D\\uDC64 Login\"}):/*#__PURE__*/_jsxs(\"div\",{style:styles.userSection,children:[/*#__PURE__*/_jsxs(\"span\",{style:styles.username,children:[\"\\uD83D\\uDC64 \",username]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:styles.logoutBtn,children:\"Logout\"})]})]})]});}const styles={header:{backgroundColor:\"#fff\",boxShadow:\"0 2px 6px rgba(0, 0, 0, 0.1)\",padding:\"1rem 2rem\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",position:\"sticky\",top:0,zIndex:1000,fontFamily:\"'Poppins', sans-serif\"},logoContainer:{display:\"flex\",alignItems:\"center\"},logoText:{color:\"#d35400\",fontWeight:\"700\",fontSize:\"1.5rem\",textDecoration:\"none\"},navLinks:{display:\"flex\",alignItems:\"center\",gap:\"1.5rem\"},navLink:{color:\"#d35400\",fontWeight:\"600\",textDecoration:\"none\",fontSize:\"0.95rem\"},userSection:{display:\"flex\",alignItems:\"center\",gap:\"0.8rem\"},username:{color:\"#333\",fontWeight:\"500\"},logoutBtn:{backgroundColor:\"#d35400\",color:\"#fff\",border:\"none\",borderRadius:\"6px\",padding:\"0.45rem 0.9rem\",cursor:\"pointer\",fontSize:\"0.85rem\",fontWeight:\"500\"}};export default Navbar;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Navbar","username","setUsername","navigate","updateUser","token","localStorage","getItem","storedUser","window","addEventListener","removeEventListener","handleLogout","clear","isLoggedIn","style","styles","header","children","logoContainer","to","logoText","navLinks","navLink","userSection","onClick","logoutBtn","backgroundColor","boxShadow","padding","display","justifyContent","alignItems","position","top","zIndex","fontFamily","color","fontWeight","fontSize","textDecoration","gap","border","borderRadius","cursor"],"sources":["E:/Subhadra_Handlooms/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Navbar() {\r\n  const [username, setUsername] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const updateUser = () => {\r\n      const token = localStorage.getItem(\"access_token\");\r\n      const storedUser = localStorage.getItem(\"username\");\r\n      setUsername(token && storedUser ? storedUser : null);\r\n    };\r\n\r\n    updateUser();\r\n    window.addEventListener(\"storage\", updateUser);\r\n    return () => window.removeEventListener(\"storage\", updateUser);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    setUsername(null);\r\n    navigate(\"/auth\");\r\n  };\r\n\r\n  const isLoggedIn = !!username;\r\n\r\n  return (\r\n    <header style={styles.header}>\r\n      <div style={styles.logoContainer}>\r\n        <Link to=\"/\" style={styles.logoText}>\r\n          Subhadra Handlooms\r\n        </Link>\r\n      </div>\r\n\r\n      <nav style={styles.navLinks}>\r\n        <Link to=\"/\" style={styles.navLink}>Home</Link>\r\n        <Link to=\"/cart\" style={styles.navLink}>üõçÔ∏è Cart</Link>\r\n\r\n        {/* ‚úÖ Show My Profile only if logged in */}\r\n        {isLoggedIn && (\r\n          <Link to=\"/profile\" style={styles.navLink}>My Profile</Link>\r\n        )}\r\n\r\n        {/* ‚úÖ Login / Logout Section */}\r\n        {!isLoggedIn ? (\r\n          <Link to=\"/auth\" style={styles.navLink}>üë§ Login</Link>\r\n        ) : (\r\n          <div style={styles.userSection}>\r\n            <span style={styles.username}>üë§ {username}</span>\r\n            <button onClick={handleLogout} style={styles.logoutBtn}>Logout</button>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  header: {\r\n    backgroundColor: \"#fff\",\r\n    boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.1)\",\r\n    padding: \"1rem 2rem\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    position: \"sticky\",\r\n    top: 0,\r\n    zIndex: 1000,\r\n    fontFamily: \"'Poppins', sans-serif\",\r\n  },\r\n  logoContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  logoText: {\r\n    color: \"#d35400\",\r\n    fontWeight: \"700\",\r\n    fontSize: \"1.5rem\",\r\n    textDecoration: \"none\",\r\n  },\r\n  navLinks: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"1.5rem\",\r\n  },\r\n  navLink: {\r\n    color: \"#d35400\",\r\n    fontWeight: \"600\",\r\n    textDecoration: \"none\",\r\n    fontSize: \"0.95rem\",\r\n  },\r\n  userSection: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"0.8rem\",\r\n  },\r\n  username: {\r\n    color: \"#333\",\r\n    fontWeight: \"500\",\r\n  },\r\n  logoutBtn: {\r\n    backgroundColor: \"#d35400\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"6px\",\r\n    padding: \"0.45rem 0.9rem\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"0.85rem\",\r\n    fontWeight: \"500\",\r\n  },\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}